import"./chunk-2CPKPREI.js";import"./chunk-CLJ7XIII.js";import{B as wt,C as L,F as G,S as z,U as Tt,V as xt,Y as kt,Z,_ as zt,a as yt,b as V,ba as Ot,c as Ct,ca as O,da as Dt,e as $,f as E,j as k,ja as At,l as nt,o as F,oa as It,pa as Mt,qa as N,ra as X,w as K,z as B}from"./chunk-IXWMK725.js";import{b as P,m as gt,o as vt,p as _t,t as bt}from"./chunk-MST2NH66.js";import{$ as it,$b as T,Ab as r,I as ut,Ib as g,Jb as Q,Mb as m,Nb as c,Qb as pt,S as ct,Sa as p,Sb as lt,Tb as dt,Vb as mt,Wb as j,Xb as f,Zb as ft,_b as w,a as et,ac as x,bc as W,da as b,dc as U,ec as ht,fa as u,gb as h,i as rt,ib as D,kb as M,la as l,ma as d,o as st,pa as I,pc as S,ra as R,tb as y,ub as v,vb as _,wb as q,xb as H,yb as C,zb as s}from"./chunk-PSAYHQT2.js";var at=new b("");var Kt=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=h({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-label"],decls:0,vars:0,template:function(t,n){},styles:[`[tuiLabel]{display:flex;gap:.25rem;flex-direction:column;font:var(--tui-font-text-s);color:var(--tui-text-primary)}[tuiLabel]:not([data-orientation=vertical]){flex-direction:row;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;font:var(--tui-font-text-m)}[tuiLabel]:has(tui-textfield),[tuiLabel]:has(tui-primitive-textfield),[tuiLabel]:has(tui-textarea){flex-direction:column!important;inline-size:auto!important;font:var(--tui-font-text-s)!important}[tuiLabel] input[type=checkbox],[tuiLabel] input[type=radio]{margin-inline-end:.5rem}[tuiLabel] input[type=checkbox][data-size=s],[tuiLabel] input[type=radio][data-size=s]{margin-inline-end:.25rem;margin-block-start:.125rem}[tuiLabel] small{font:var(--tui-font-text-s)}[tuiLabel] [tuiTitle]{margin-block-start:.125rem}[tuiLabel] [tuiSubtitle]{color:var(--tui-text-secondary)}
`],encapsulation:2,changeDetection:0})}}return e})(),St=(()=>{class e{constructor(){this.el=z(),this.nothing=G(Kt),this.parent=u(it(()=>at),{optional:!0})}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275dir=D({type:e,selectors:[["label","tuiLabel",""]],contentQueries:function(t,n,o){if(t&1&&pt(o,at,5),t&2){let ot;lt(ot=dt())&&(n.textfield=ot.first)}},hostVars:2,hostBindings:function(t,n){t&2&&y("for",n.el.htmlFor||(n.parent==null?null:n.parent.id))("data-orientation",n.textfield?"vertical":"horizontal")}})}}return e})();var Y=(()=>{class e{constructor(){this.el=z(),this.control$=new rt(null),this.sub=this.control$.pipe(ct(i=>i?.events||st(null)),ut(0),zt(),kt()).subscribe(()=>this.handleValidation()),this.tuiNativeValidator="Invalid"}validate(i){return this.control$.next(i),null}handleValidation(){let i=!!this.control$.value?.touched&&this.control$.value?.invalid;this.el.closest("tui-textfield")?.classList.toggle("tui-invalid",i),this.el.setCustomValidity?.(i?this.tuiNativeValidator:"")}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275dir=D({type:e,selectors:[["","tuiNativeValidator",""]],hostBindings:function(t,n){t&1&&m("focusout",function(){return n.handleValidation()})},inputs:{tuiNativeValidator:"tuiNativeValidator"},features:[W([wt(Ct,e,!0)])]})}}return e})();var Gt=["type","checkbox","tuiCheckbox",""],Et={size:"m",appearance:e=>e.checked||e.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},Ft=new b("",{factory:()=>Et});function Bt(e){return L(Ft,e,Et)}var Lt=(()=>{class e{constructor(){this.appearance=u(O),this.options=u(Ft),this.cdr=u(S),this.resolver=At(),this.destroyRef=u(I),this.el=z(),this.size=this.options.size,this.control=u($,{optional:!0,self:!0})}ngOnInit(){this.control?.valueChanges&&xt(this.control).pipe(Z(this.cdr),K(this.destroyRef)).subscribe(i=>{let t=this.control instanceof k&&i===null?this.control.model:i;this.el.indeterminate=t===null})}ngDoCheck(){this.appearance.tuiAppearance=B(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}getIcon(i){let t=this.options.icons[i],n=B(t)?t:t(this.size);return n&&`url(${this.resolver(n)})`}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=h({type:e,selectors:[["input","type","checkbox","tuiCheckbox",""]],hostVars:8,hostBindings:function(t,n){t&2&&(Q("disabled",!n.control||n.control.disabled),y("data-size",n.size),mt("--t-checked-icon",n.getIcon("checked"))("--t-indeterminate-icon",n.getIcon("indeterminate")),j("_readonly",!n.control))},inputs:{size:"size"},features:[M([{directive:O,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]},Y])],attrs:Gt,decls:0,vars:0,template:function(t,n){},styles:[`[tuiCheckbox]{--t-size: 1.5rem;--t-radius: var(--tui-radius-s);inline-size:var(--t-size);block-size:var(--t-size);border-radius:var(--t-radius);cursor:pointer;margin:0;flex-shrink:0}[tuiCheckbox]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:"";inline-size:1rem;block-size:1rem;margin:auto;background:currentColor;-webkit-mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>') center / 100%;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"></svg>') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}[tuiCheckbox]:disabled._readonly._readonly{opacity:1;pointer-events:none}[tuiCheckbox]:checked:before,[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);transform:scale(1);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out,-webkit-mask 0s ease-in-out;transition-duration:inherit}[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-indeterminate-icon);mask-image:var(--t-indeterminate-icon)}[tuiCheckbox][data-size=s]{--t-size: 1rem;--t-radius: var(--tui-radius-xs)}[tuiCheckbox][data-size=s]:before{inline-size:.875rem;block-size:.875rem}[tuiCheckbox]:invalid:not([data-mode]),[tuiCheckbox][data-mode~=invalid]{color:#fff}
`],encapsulation:2,changeDetection:0})}}return e})();var Zt={appearance:"",round:!0,size:"l"},[di,Nt]=Tt(Zt);var Rt={showIcons:!0,size:"m",icon:"@tui.check",appearance:e=>e.checked?"primary":"secondary"},Xt=new b("",{factory:()=>Rt});function qt(e){return L(Xt,e,Rt)}var Yt={appearance:"neutral",size:"s"},Ht=new b("",{factory:()=>Yt});var Jt=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=h({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],decls:0,vars:0,template:function(t,n){},styles:[`tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, 0rem) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge]{margin-inline-end:0}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: 0rem;--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip[data-size=m]>tui-badge,[tuiChip][data-size=m]>tui-badge,tui-chip[data-size=m]>[tuiBadge],[tuiChip][data-size=m]>[tuiBadge]{margin-inline-start:-.375rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>[tuiFade]:first-of-type,[tuiChip]>[tuiFade]:first-of-type{flex:1 0 30%;max-inline-size:-webkit-fit-content;max-inline-size:-moz-fit-content;max-inline-size:fit-content}tui-chip>[tuiFade]:last-of-type,[tuiChip]>[tuiFade]:last-of-type{flex:0 1 auto}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;margin:0}tui-chip>input[tuiChip][type=checkbox],[tuiChip]>input[tuiChip][type=checkbox],tui-chip>input[tuiChip][type=radio],[tuiChip]>input[tuiChip][type=radio]{z-index:-1}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=negative],[tuiChip][tuiAppearance][data-appearance=negative],tui-chip[tuiAppearance][data-appearance=positive],[tuiChip][tuiAppearance][data-appearance=positive],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}input[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}input[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}
`],encapsulation:2,changeDetection:0})}}return e})(),Qt=(()=>{class e{constructor(){this.options=u(Ht),this.nothing=G(Jt),this.size=this.options.size}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275dir=D({type:e,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(t,n){t&2&&y("data-size",n.size)},inputs:{size:"size"},features:[W([Ot(Ht),qt({size:"s"}),Bt({size:"s"}),Nt({size:"xs"}),Mt({size:"xs",appearance:"icon"})]),M([Dt,It])]})}}return e})();var te=["type","radio","tuiRadio",""],ee={size:"m",appearance:({checked:e})=>e?"primary":"outline-grayscale"},ie=new b("",{factory:()=>ee});var jt=(()=>{class e{constructor(){this.appearance=u(O),this.destroyRef=u(I),this.cdr=u(S),this.options=u(ie),this.el=z(),this.control=u($,{self:!0,optional:!0}),this.size=this.options.size}ngOnInit(){this.control?.valueChanges?.pipe(Z(this.cdr),K(this.destroyRef)).subscribe()}ngDoCheck(){this.appearance.tuiAppearance=B(this.options.appearance)?this.options.appearance:this.options.appearance(this.el)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=h({type:e,selectors:[["input","type","radio","tuiRadio",""]],hostVars:4,hostBindings:function(t,n){t&2&&(Q("disabled",!n.control||n.control.disabled),y("data-size",n.size),j("_readonly",!n.control))},inputs:{size:"size"},features:[M([{directive:O,inputs:["tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]},Y])],attrs:te,decls:0,vars:0,template:function(t,n){},styles:[`[tuiRadio]{--t-size: 1.5rem;transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:var(--t-size);block-size:var(--t-size);cursor:pointer;margin:0;flex-shrink:0;border-radius:100%;color:var(--tui-text-primary-on-accent-1)}[tuiRadio]:disabled._readonly._readonly{opacity:1}[tuiRadio]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:"";margin:auto;border-radius:100%;background:currentColor;transform:scale(0);transition-property:transform}[tuiRadio]:checked:before{transform:scale(.5)}[tuiRadio][data-size=s]{--t-size: 1rem}[tuiRadio]:invalid:not([data-mode]),[tuiRadio][data-mode~=invalid]{color:#fff}
`],encapsulation:2,changeDetection:0})}}return e})();var ne=(e,a,i)=>({"disabled-input-text":e,"right-answer":a,"wrong-answer":i});function ae(e,a){if(e&1){let i=g();s(0,"input",4),x("ngModelChange",function(n){l(i);let o=c(2);return T(o.answer.checked,n)||(o.answer.checked=n),d(n)}),m("change",function(){l(i);let n=c(2);return d(n.saveAnswer())}),r()}if(e&2){let i=c(2);w("ngModel",i.answer.checked),C("disabled",i.testType==="watch")}}function oe(e,a){if(e&1){let i=g();s(0,"label",3)(1,"input",5),x("ngModelChange",function(n){l(i);let o=c(2);return T(o.question.group_answer,n)||(o.question.group_answer=n),d(n)}),m("change",function(){l(i);let n=c(2);return d(n.saveAnswer())}),r()()}if(e&2){let i=c(2);p(),w("ngModel",i.question.group_answer),C("value",i.answer.id)("disabled",i.testType==="watch"),y("name",i.question.id)}}function re(e,a){if(e&1&&v(0,ae,1,2,"input",2)(1,oe,2,4,"label",3),e&2){let i=c();_(i.question.type==="multiple"?0:1)}}function se(e,a){if(e&1){let i=g();s(0,"label",6)(1,"input",7),x("ngModelChange",function(n){l(i);let o=c();return T(o.answer.correct,n)||(o.answer.correct=n),d(n)}),r(),s(2,"span"),f(3,"\u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439"),r()(),s(4,"button",8),m("click",function(){l(i);let n=c();return d(n.onRemoveAnswer())}),f(5," \u0423\u0434\u0430\u043B\u0438\u0442\u044C "),r()}if(e&2){let i=c();p(),w("ngModel",i.answer.correct)}}var J=class e{answer;testType;question;removeAnswer=new R;testsService=u(X);onRemoveAnswer(){this.removeAnswer.emit()}saveAnswer(){this.testsService.save()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["app-answer"]],inputs:{answer:"answer",testType:"testType",question:"question"},outputs:{removeAnswer:"removeAnswer"},decls:4,vars:9,consts:[[1,"answer"],["type","text","placeholder","\u0412\u0430\u0440\u0438\u0430\u043D\u0442 \u043E\u0442\u0432\u0435\u0442\u0430",1,"answer__input",3,"ngModelChange","ngModel","disabled","ngClass"],["type","checkbox","tuiCheckbox","",1,"answer__checkbox",3,"ngModel","disabled"],["tuiLabel",""],["type","checkbox","tuiCheckbox","",1,"answer__checkbox",3,"ngModelChange","change","ngModel","disabled"],["type","radio","tuiRadio","",1,"answer__checkbox",3,"ngModelChange","change","ngModel","value","disabled"],["appearance","outline-grayscale","tuiChip",""],["tuiCheckbox","","type","checkbox",3,"ngModelChange","ngModel"],["tuiButton","","size","s","appearance","primary","type","button",3,"click"]],template:function(i,t){i&1&&(s(0,"div",0),v(1,re,2,1),s(2,"input",1),x("ngModelChange",function(o){return T(t.answer.value,o)||(t.answer.value=o),o}),r(),v(3,se,6,1),r()),i&2&&(p(),_(t.testType==="passing"||t.testType==="watch"?1:-1),p(),w("ngModel",t.answer.value),C("disabled",t.testType==="passing"||t.testType==="watch")("ngClass",ht(5,ne,t.testType==="passing"||t.testType==="watch",t.testType==="watch"&&t.answer.correct,t.testType==="watch"&&!t.answer.correct)),p(),_(t.testType!=="passing"&&t.testType!=="watch"?3:-1))},dependencies:[F,V,yt,nt,E,k,N,P,Qt,Lt,St,jt],styles:[".answer[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.answer__input[_ngcontent-%COMP%]{font-size:1rem;border-radius:.5rem;border:1px solid #e5e7eb;padding:.35rem .6rem;background:#fff;color:#111827}.right-answer[_ngcontent-%COMP%]{color:green!important}.wrong-answer[_ngcontent-%COMP%]{color:red!important}"]})};var ue=e=>({"disabled-input-text":e}),ce=(e,a)=>a.id;function pe(e,a){e&1&&f(0," \u041E\u0434\u0438\u043D \u0432\u0430\u0440\u0438\u0430\u043D\u0442 \u043E\u0442\u0432\u0435\u0442\u0430 ")}function le(e,a){e&1&&f(0," \u041D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432 ")}function de(e,a){if(e&1){let i=g();s(0,"button",10),m("click",function(){l(i);let n=c();return d(n.changeQuestionType())}),v(1,pe,1,0)(2,le,1,0),r()}if(e&2){let i=c();p(),_(i.question.type==="single"?1:i.question.type==="multiple"?2:-1)}}function me(e,a){if(e&1){let i=g();s(0,"app-answer",11),m("removeAnswer",function(){let n=l(i).$implicit,o=c();return d(o.removeAnswer(n.id))}),r()}if(e&2){let i=a.$implicit,t=c();C("testType",t.testType)("answer",i)("question",t.question)}}function fe(e,a){if(e&1){let i=g();s(0,"div",9)(1,"button",12),m("click",function(){l(i);let n=c();return d(n.addNewAnswer())}),f(2," + \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u0442\u0432\u0435\u0442 "),r(),s(3,"button",13),m("click",function(){l(i);let n=c();return d(n.onRemoveQuestion())}),f(4," \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u0430\u0440\u0442\u043E\u0447\u043A\u0443 "),r()()}}var tt=class e{question;questionIndex;testType;removeQuestion=new R;onRemoveQuestion(){this.removeQuestion.emit()}removeAnswer(a){this.question.answers=this.question.answers.filter(i=>i.id!==a)}addNewAnswer(){this.question.answers=[...this.question.answers,{id:Date.now(),value:"",correct:!1,checked:!1}]}changeQuestionType(){this.question.type=this.question.type==="multiple"?"single":"multiple",this.question.answers.map(a=>a.checked=!1)}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["app-question"]],inputs:{question:"question",questionIndex:"questionIndex",testType:"testType"},outputs:{removeQuestion:"removeQuestion"},decls:12,vars:8,consts:[[1,"question-card"],[1,"card__header"],[1,"card__title"],[1,"question__input-number"],["type","text","placeholder","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0432\u043E\u043F\u0440\u043E\u0441\u0430",1,"question__input",3,"ngModelChange","ngModel","disabled","ngClass"],["tuiButton","","size","s","appearance","flat"],[1,"card__content"],[1,"questions"],[3,"testType","answer","question"],[1,"card-actions"],["tuiButton","","size","s","appearance","flat",3,"click"],[3,"removeAnswer","testType","answer","question"],["tuiButton","","size","s","appearance","secondary",1,"task__add-option-btn",3,"click"],["tuiButton","","size","s","appearance","primary",1,"error-button",3,"click"]],template:function(i,t){i&1&&(s(0,"article",0)(1,"header",1)(2,"div",2)(3,"div",3),f(4),r(),s(5,"input",4),x("ngModelChange",function(o){return T(t.question.description,o)||(t.question.description=o),o}),r()(),v(6,de,3,1,"button",5),r(),s(7,"section",6)(8,"div",7),q(9,me,1,3,"app-answer",8,ce),r(),v(11,fe,5,0,"div",9),r()()),i&2&&(p(4),ft("",t.questionIndex+1,"."),p(),w("ngModel",t.question.description),C("disabled",t.testType==="passing"||t.testType==="watch")("ngClass",U(6,ue,t.testType==="passing"||t.testType==="watch")),p(),_(t.testType!=="passing"&&t.testType!=="watch"?6:-1),p(3),H(t.question.answers),p(2),_(t.testType!=="passing"&&t.testType!=="watch"?11:-1))},dependencies:[N,J,F,V,E,k,P],styles:[".question-card[_ngcontent-%COMP%]{border-radius:.75rem;border:1px solid #e5e7eb;background:#fff;padding:1.25rem 1.5rem;box-shadow:0 6px 18px #0f172a0a;overflow:scroll}.card__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.card__title[_ngcontent-%COMP%]{display:flex;align-items:center}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem 0}.question__input-number[_ngcontent-%COMP%]{font-size:1.4rem}.question__input[_ngcontent-%COMP%]{font-size:1.4rem;border:1px solid #e5e7eb;border-radius:.5rem;padding:.35rem .6rem;background:#fff;color:#111827}"]})};var he=e=>({"disabled-input-text":e}),ge=(e,a)=>a.id;function ve(e,a){if(e&1){let i=g();s(0,"app-question",8),m("removeQuestion",function(){let n=l(i).$implicit,o=c();return d(o.removeQuestion(n.id))}),r()}if(e&2){let i=a.$implicit,t=a.$index,n=c();C("question",i)("questionIndex",t)("testType",n.testType)}}function _e(e,a){if(e&1){let i=g();s(0,"button",9),m("click",function(){l(i);let n=c();return d(n.addNewQuestion())}),f(1," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u043E\u043F\u0440\u043E\u0441 "),r()}}function be(e,a){if(e&1){let i=g();s(0,"a",10),f(1,"\u0412\u044B\u0439\u0442\u0438"),r(),s(2,"button",11),m("click",function(){l(i);let n=c();return d(n.completeTest())}),f(3," \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C "),r()}}function ye(e,a){e&1&&(s(0,"a",7),f(1,"\u0412\u044B\u0439\u0442\u0438"),r())}function Ce(e,a){if(e&1){let i=g();s(0,"a",10),f(1,"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C"),r(),s(2,"button",11),m("click",function(){l(i);let n=c();return d(n.saveTest())}),f(3," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),r()}}var $t=class e{testType="create";test;authService=u(bt);testsService=u(X);route=u(gt);router=u(vt);constructor(){this.route.queryParams.subscribe(a=>{let i=a.type;if(i&&(this.testType=i),i!=="create"){let t=Number(a.id),n=this.testsService.testsList.find(o=>o.id===t);n&&(this.test=et({},n))}else this.test={id:Date.now(),name:"",author_id:this.authService.currentUser().id,created_at:Date.now(),questions:[],participants:[]}})}addNewQuestion(){this.test.questions=[...this.test.questions,{id:Date.now(),description:"",type:"multiple",group_answer:null,order:3,theUserAnsweredCorrectly:!1,answers:[]}]}removeQuestion(a){this.test.questions=this.test.questions.filter(i=>i.id!==a)}saveTest(){this.testsService.createNewTest(this.test),this.router.navigate([""])}completeTest(){this.testsService.completeTest(et({},this.test)),this.router.navigate(["passed-tests"])}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=h({type:e,selectors:[["app-test"]],decls:11,vars:7,consts:[[1,"test-title-wrapper"],["type","text","placeholder","\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u0435\u0441\u0442\u0430",1,"test-title",3,"ngModelChange","ngModel","disabled","ngClass"],[1,"test-container"],[1,"test-container__questions-list"],[3,"question","questionIndex","testType"],["tuiButton","","size","s","appearance","primary",1,"add-card-btn"],[1,"test-container__actions"],["tuiButton","","appearance","secondary","routerLink","/passed-tests"],[3,"removeQuestion","question","questionIndex","testType"],["tuiButton","","size","s","appearance","primary",1,"add-card-btn",3,"click"],["tuiButton","","appearance","secondary","routerLink",""],["tuiButton","","appearance","primary",3,"click"]],template:function(i,t){i&1&&(s(0,"div",0)(1,"input",1),x("ngModelChange",function(o){return T(t.test.name,o)||(t.test.name=o),o}),r()(),s(2,"div",2)(3,"div",3),q(4,ve,1,3,"app-question",4,ge),v(6,_e,2,0,"button",5),r(),s(7,"div",6),v(8,be,4,0)(9,ye,2,0,"a",7)(10,Ce,4,0),r()()),i&2&&(p(),w("ngModel",t.test.name),C("disabled",t.testType==="passing"||t.testType==="watch")("ngClass",U(5,he,t.testType==="passing"||t.testType==="watch")),p(3),H(t.test.questions),p(2),_(t.testType!=="passing"&&t.testType!=="watch"?6:-1),p(2),_(t.testType==="passing"?8:t.testType==="watch"?9:10))},dependencies:[N,F,V,E,k,tt,_t,P],styles:[".test-title-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}.test-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;width:min-content;max-width:min(800px,100%);font-size:2rem;font-weight:700;border-radius:.5rem;border:1px solid rgba(0,0,0,.2)}.test-container[_ngcontent-%COMP%]{gap:2rem;display:flex;flex-direction:column;border:1px solid #e5e7eb;max-width:min(800px,100%);margin:0 auto;padding:2rem min(4rem,5%);border-radius:1rem;background:#fff;box-shadow:0 10px 30px #0f172a0f}.test-container__questions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.test-container__actions[_ngcontent-%COMP%]{gap:.5rem;display:flex;margin:0 auto;width:min-content}.add-card-btn[_ngcontent-%COMP%]{width:min-content;margin:0 auto}"]})};export{$t as TestComponent};
